"use strict";var width=window.innerWidth,height=window.innerHeight,renderer=new THREE.WebGLRenderer({antialias:!0});renderer.setSize(width,height);var element=document.querySelector(".element");element.appendChild(renderer.domElement);var scene=new THREE.Scene,cubeGeometry=new THREE.CubeGeometry(100,100,100),cubeMaterial=new THREE.MeshLambertMaterial({color:16777215}),cube=new THREE.Mesh(cubeGeometry,cubeMaterial);cube.rotation.y=45*Math.PI/180,scene.add(cube);var camera=new THREE.PerspectiveCamera(45,width/height,.1,1e4);camera.position.y=160,camera.position.z=400,camera.lookAt(cube.position),scene.add(camera);var skyboxGeometry=new THREE.CubeGeometry(1e4,1e4,1e4),skyboxMaterial=new THREE.MeshBasicMaterial({color:0,side:THREE.BackSide}),skybox=new THREE.Mesh(skyboxGeometry,skyboxMaterial);scene.add(skybox);var pointLight=new THREE.PointLight(16777215);pointLight.position.set(0,300,200),scene.add(pointLight);var button=document.querySelector(".button");function onClick(){"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(function(e){"granted"===e&&window.addEventListener("deviceorientation",function(e){element.style.transform="rotateZ("+(e.alpha-180)+"deg) rotateX("+e.beta+"deg) rotateY("+-e.gamma+"deg)"})}).catch(console.error):document.body.style.background="red"}button.addEventListener("click",onClick);