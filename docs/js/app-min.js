"use strict";var element=document.querySelector(".element"),button=document.querySelector(".button");function onClick(){"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(function(e){"granted"===e&&window.addEventListener("deviceorientation",function(e){var n=window.innerWidth,t=window.innerHeight,i=new THREE.WebGLRenderer({antialias:!0});i.setSize(n,t),document.querySelector(".element").appendChild(i.domElement);var o=new THREE.Scene,r=new THREE.CubeGeometry(100,100,100),a=new THREE.MeshLambertMaterial({color:16777215}),d=new THREE.Mesh(r,a);d.rotation.y=45*Math.PI/180,o.add(d);var c=new THREE.PerspectiveCamera(45,n/t,.1,1e4);c.position.y=160,c.position.z=400,c.lookAt(d.position),o.add(c);var s=new THREE.CubeGeometry(1e4,1e4,1e4),E=new THREE.MeshBasicMaterial({color:0,side:THREE.BackSide}),u=new THREE.Mesh(s,E);o.add(u);var l=new THREE.PointLight(16777215);l.position.set(0,300,200),o.add(l),function e(){requestAnimationFrame(e),d.rotation.y+=.01,i.render(o,c)}()})}).catch(console.error):document.body.style.background="pink"}button.addEventListener("click",onClick);